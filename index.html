<!DOCTYPE html>
<html lang="en-us">
   <head>
      <meta charset="utf-8" />
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>Custom template | WebGL Template</title>

      <link rel="stylesheet" href="/Template/style.css" />

      <script src="Build/UnityLoader.js"></script>
   </head>

   <body>
      <h2>Custom Unity Template</h2>

      <!-- Unity Container -->
      <div class="webgl-content">
         <div
            class="centered"
            style="width: 960px; height: 600px;"
         >
            <!-- Unity WebGL will be here -->
            <div
               id="unity-container"
               style="width: 960px; height: 600px;"
            ></div>

            <!-- This is a simple progress bar -->
            <div id="loader" class="loader">
               <div class="progressbar">
                  <div id="fill" class="fill" style="width: 0%;"></div>
               </div>
            </div>
         </div>
      </div>

      <script>
         // Custom progressbar function
         function customProgress(unityInstance, progress) {
            // Change fill of the progress bar
            const fill = document.getElementById("fill");
            fill.style.width = progress * 100 + "%";

            // If loaded, remove loader
            if (progress === 1) {
               const loader = document.getElementById("loader");
               loader.remove();
            }
         }
      </script>
      <script>
         // Unity Initialization
         var unityInstance = UnityLoader.instantiate(
            "unity-container",
            "Build/Test.json",
            { onProgress: customProgress }
         );
      </script>

      <h3>Example made by</h3>
      <p><a href="https://patrykgalach.com">Patryk Galach - Dev Blog</a></p>
   </body>
</html>
